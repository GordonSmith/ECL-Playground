[{"kind":1,"language":"markdown","value":"# Story of a Rock Band\r\n\r\nThis is a story about a rock band's social media presence and how they use data to monitor their popularity. They quantify fan engagement based upon the number of *likes* they get each month. \r\n\r\n<img src=\".\\images\\hpcc_band_640.jpg\"  alt=\"The Band\"  width=\"700\" />\r\n\r\nIn August, they were on TV and that caused spike in social media engagements. That spike of interest lasted into September and then returned to a plateau about where their popularity was before.\r\n\r\n### Show it, don't say it ###\r\n\r\nThis simple example is a good way to show how a picture can tell a thousand words. The data shows the spike of more than 40 thousand likes, but a bar plot graph is a more effective representation. \r\n\r\n\r\nHere is the ECL using inline data:","outputs":[]},{"kind":2,"language":"ecl","value":"likesRec := RECORD\r\n  UNSIGNED4 month;\r\n  UNSIGNED4 likes;\r\nEND;\r\nlikesData := DATASET([ { 1, 1000 }, { 2, 1220 },  { 3, 2322 },  { 4, 1434 } ,\r\n                       { 5, 1610 }, { 6, 1212 },  { 7, 3122 },  { 8, 41117 } ,\r\n                       { 9, 21910 }, { 10, 3212 },  { 11, 3422 },  { 12, 3447 }                     \r\n                        ], likesRec);\r\nOUTPUT(likesData, NAMED('likesData'));","outputs":[{"mime":"application/hpcc.wu+json","data":[123,10,9,34,99,111,110,102,105,103,117,114,97,116,105,111,110,34,58,32,34,77,97,99,95,84,104,111,114,32,40,77,121,32,70,105,108,101,115,41,34,44,10,9,34,119,117,105,100,34,58,32,34,87,50,48,50,50,48,57,48,53,45,49,52,50,54,49,55,34,44,10,9,34,114,101,115,117,108,116,115,34,58,32,123,10,9,9,34,108,105,107,101,115,68,97,116,97,34,58,32,91,10,9,9,9,123,10,9,9,9,9,34,109,111,110,116,104,34,58,32,49,44,10,9,9,9,9,34,108,105,107,101,115,34,58,32,49,48,48,48,10,9,9,9,125,44,10,9,9,9,123,10,9,9,9,9,34,109,111,110,116,104,34,58,32,50,44,10,9,9,9,9,34,108,105,107,101,115,34,58,32,49,50,50,48,10,9,9,9,125,44,10,9,9,9,123,10,9,9,9,9,34,109,111,110,116,104,34,58,32,51,44,10,9,9,9,9,34,108,105,107,101,115,34,58,32,50,51,50,50,10,9,9,9,125,44,10,9,9,9,123,10,9,9,9,9,34,109,111,110,116,104,34,58,32,52,44,10,9,9,9,9,34,108,105,107,101,115,34,58,32,49,52,51,52,10,9,9,9,125,44,10,9,9,9,123,10,9,9,9,9,34,109,111,110,116,104,34,58,32,53,44,10,9,9,9,9,34,108,105,107,101,115,34,58,32,49,54,49,48,10,9,9,9,125,44,10,9,9,9,123,10,9,9,9,9,34,109,111,110,116,104,34,58,32,54,44,10,9,9,9,9,34,108,105,107,101,115,34,58,32,49,50,49,50,10,9,9,9,125,44,10,9,9,9,123,10,9,9,9,9,34,109,111,110,116,104,34,58,32,55,44,10,9,9,9,9,34,108,105,107,101,115,34,58,32,51,49,50,50,10,9,9,9,125,44,10,9,9,9,123,10,9,9,9,9,34,109,111,110,116,104,34,58,32,56,44,10,9,9,9,9,34,108,105,107,101,115,34,58,32,52,49,49,49,55,10,9,9,9,125,44,10,9,9,9,123,10,9,9,9,9,34,109,111,110,116,104,34,58,32,57,44,10,9,9,9,9,34,108,105,107,101,115,34,58,32,50,49,57,49,48,10,9,9,9,125,44,10,9,9,9,123,10,9,9,9,9,34,109,111,110,116,104,34,58,32,49,48,44,10,9,9,9,9,34,108,105,107,101,115,34,58,32,51,50,49,50,10,9,9,9,125,44,10,9,9,9,123,10,9,9,9,9,34,109,111,110,116,104,34,58,32,49,49,44,10,9,9,9,9,34,108,105,107,101,115,34,58,32,51,52,50,50,10,9,9,9,125,44,10,9,9,9,123,10,9,9,9,9,34,109,111,110,116,104,34,58,32,49,50,44,10,9,9,9,9,34,108,105,107,101,115,34,58,32,51,52,52,55,10,9,9,9,125,10,9,9,93,10,9,125,10,125]}]},{"kind":1,"language":"markdown","value":"Once the job completes, it displays the data in a table format. \r\nThe result set from the output is now available to OJS as an object with the label we created with NAMED('likesData') in our ECL. \r\nWe can use that named result in an OJS cell to visualize the data using a **Plot** graph.","outputs":[]},{"kind":2,"language":"ojs","value":"Plot.plot({\r\n  y: {\r\n    grid: true\r\n  },\r\n  marks: [\r\n    Plot.barY(likesData,{x: row => row.month, y: row=> row.likes, fill: \"#0C8CCC\"}),\r\n    Plot.ruleY([0]),\r\n    Plot.ruleX([0])\r\n  ]\r\n})","outputs":[]}]